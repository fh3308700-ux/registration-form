<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign Up</title>
  <style>
    body { font-family: Arial, sans-serif; background: linear-gradient(to right,#74ebd5,#ACB6E5);
      display:flex; align-items:center; justify-content:center; height:100vh; margin:0; }
    .card { background:#fff; width:380px; padding:28px 34px; border-radius:12px;
      box-shadow:0 6px 18px rgba(0,0,0,.15); text-align:center; }
    h2 { margin:0 0 16px; color:#333; }
    .error { color:#d00; font-size:14px; margin-bottom:10px; }
    form { display:flex; flex-direction:column; gap:14px; text-align:left; }
    label { font-size:14px; font-weight:700; color:#444; }
    input { padding:10px; border:1px solid #ccc; border-radius:6px; outline:0; transition:.25s; }
    input:focus { border-color:#4a90e2; box-shadow:0 0 6px rgba(74,144,226,.3); }
    button { padding:11px; border:0; border-radius:6px; background:#4a90e2; color:#fff;
      font-size:16px; cursor:pointer; transition:.25s; }
    button:hover { background:#357ABD; }
    .link { margin-top:12px; font-size:14px; }
    .link a { color:#4a90e2; text-decoration:none; }
    .link a:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <div class="card">
    <h2>üñäÔ∏è Create your account</h2>

    {# show top-level errors only if they are NOT password-strength or mismatch errors #}
    {% if error and ("Password must" not in error) and ("match" not in error) %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <form method="POST" action="{{ url_for('signup') }}">
      <label>Username</label>
      <input type="text" name="username" placeholder="Choose a username" required />

      <label>Password</label>
      <input type="password" name="password" placeholder="Create a password" required />
      {# show password policy error directly under password field #}
      {% if error and "Password must" in error %}
        <p class="error" style="margin-top:4px;">{{ error }}</p>
      {% endif %}

      <label>Confirm Password</label>
      <input type="password" name="confirm" placeholder="Re-enter password" required />
      {# show mismatch error directly under confirm field #}
      {% if error and "match" in error %}
        <p class="error" style="margin-top:4px;">{{ error }}</p>
      {% endif %}

      <button type="submit">Sign Up</button>
    </form>

    <div class="link">Already have an account?
      <a href="{{ url_for('login') }}">Login</a>
    </div>
  </div>
</body>
</html>
